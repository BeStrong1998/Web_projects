{% extends "base.html" %}

{% block title %}{% endblock %}

{% block content %}
<div class="row">
	<div class="col-12">
		{% with messages = get_flashed_messages() %}
			{% if messages %}
			<div class="alert alert-warning" role="alert">
				{% for message in messages %}
					{{ message }}<br>
				{% endfor %}
			</div>
			{% endif %}
		{% endwith %}
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<table id="data" class="table table-striped">
			<thead>
			<tr>
				<th>Название</th>
				<th>Ссылка</th>
				<th>Дата</th>
				<th>Цена</th>
				<th>Площядь</th>
				<th>Адрес</th>
				<th>Кол. комнат</th>
				<th>Фото</th>
			</tr>
			</thead>
			<tbody>
			{% for el in flats %}
				<tr>
				<td>{{ el.title }}</td>
				<td><a href = "{{ url_for('single_flat', flat_id=el.id) }}">Показать объявление</a></td>
				<td>{{ el.date }}</td>
				<td>{{ el.price }} руб.</td>
				<td>{{ el.square }} м²</td>
				<td>{{ el.address }}</td>
				<td>{{ el.number_of_rooms }}</td>
				<td>
					<div class="first_photo">
						<img src={{ el.photos }}>
					</div>
				</td>
				</tr>
			{% endfor %}
			</tbody>
		</table>
	</div>
</div> 
{% endblock %}